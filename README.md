# Auto-check-EGE-math

–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–µ—à–µ–Ω–∏–π –∑–∞–¥–∞—á –ï–ì–≠ –ø–æ –º–∞—Ç–µ–º–∞—Ç–∏–∫–µ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –º–æ–¥–µ–ª–µ–π –∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç–∞.

## –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

**Auto-check-EGE-math** ‚Äî —ç—Ç–æ –∫–æ–º–ø–ª–µ–∫—Å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –æ—Ü–µ–Ω–∫–∏ —Ä–µ—à–µ–Ω–∏–π –∑–∞–¥–∞—á –ï–¥–∏–Ω–æ–≥–æ –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ —ç–∫–∑–∞–º–µ–Ω–∞ (–ï–ì–≠) –ø–æ –º–∞—Ç–µ–º–∞—Ç–∏–∫–µ. –°–∏—Å—Ç–µ–º–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –º–æ–¥–µ–ª–∏ –º–∞—à–∏–Ω–Ω–æ–≥–æ –æ–±—É—á–µ–Ω–∏—è —á–µ—Ä–µ–∑ OpenRouter API –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π —Å —Ä–µ—à–µ–Ω–∏—è–º–∏ —Å—Ç—É–¥–µ–Ω—Ç–æ–≤ –∏ –≤—ã—Å—Ç–∞–≤–ª–µ–Ω–∏—è –æ—Ü–µ–Ω–æ–∫ –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å –∫—Ä–∏—Ç–µ—Ä–∏—è–º–∏ –ï–ì–≠.

### –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—Ü–µ–Ω–∫–∞ —Ä–µ—à–µ–Ω–∏–π**: –ê–Ω–∞–ª–∏–∑ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π —Å —Ä–µ—à–µ–Ω–∏—è–º–∏ –∑–∞–¥–∞—á –ï–ì–≠ –ø–æ –º–∞—Ç–µ–º–∞—Ç–∏–∫–µ
- **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ç–∏–ø–æ–≤ –∑–∞–¥–∞—á**: –ó–∞–¥–∞—á–∏ 13-19 (—Ç—Ä–∏–≥–æ–Ω–æ–º–µ—Ç—Ä–∏—è, —Å—Ç–µ—Ä–µ–æ–º–µ—Ç—Ä–∏—è, –ª–æ–≥–∞—Ä–∏—Ñ–º—ã, –ø–ª–∞–Ω–∏–º–µ—Ç—Ä–∏—è, —Ñ–∏–Ω–∞–Ω—Å–æ–≤–∞—è –º–∞—Ç–µ–º–∞—Ç–∏–∫–∞, –ø–∞—Ä–∞–º–µ—Ç—Ä—ã, —Ç–µ–æ—Ä–∏—è —á–∏—Å–µ–ª)
- **–ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –º–æ–¥–µ–ª–∏ –ò–ò**: –ü–æ–¥–¥–µ—Ä–∂–∫–∞ reasoning –∏ non-reasoning –º–æ–¥–µ–ª–µ–π —á–µ—Ä–µ–∑ OpenRouter API
- **–ë–µ–Ω—á–º–∞—Ä–∫–∏–Ω–≥**: –°–∏—Å—Ç–µ–º–∞ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π
- **–í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å**: FastAPI backend —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞
- **–ê–Ω–∞–ª–∏–∑ —Å—Ç–æ–∏–º–æ—Å—Ç–∏**: –†–∞—Å—á–µ—Ç –∑–∞—Ç—Ä–∞—Ç –Ω–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π

### –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ç–∏–ø—ã –∑–∞–¥–∞—á

| –ù–æ–º–µ—Ä –∑–∞–¥–∞—á–∏ | –û–ø–∏—Å–∞–Ω–∏–µ | –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π –±–∞–ª–ª |
|--------------|----------|-------------------|
| 13 | –¢—Ä–∏–≥–æ–Ω–æ–º–µ—Ç—Ä–∏—á–µ—Å–∫–∏–µ —É—Ä–∞–≤–Ω–µ–Ω–∏—è | 2 |
| 14 | –°—Ç–µ—Ä–µ–æ–º–µ—Ç—Ä–∏—á–µ—Å–∫–∞—è –∑–∞–¥–∞—á–∞ | 3 |
| 15 | –õ–æ–≥–∞—Ä–∏—Ñ–º–∏—á–µ—Å–∫–∏–µ –Ω–µ—Ä–∞–≤–µ–Ω—Å—Ç–≤–∞ | 2 |
| 16 | –§–∏–Ω–∞–Ω—Å–æ–≤–∞—è –º–∞—Ç–µ–º–∞—Ç–∏–∫–∞ | 2 |
| 17 | –ü–ª–∞–Ω–∏–º–µ—Ç—Ä–∏—á–µ—Å–∫–∞—è –∑–∞–¥–∞—á–∞ | 3 |
| 18 | –ó–∞–¥–∞—á–∞ —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º | 4 |
| 19 | –ó–∞–¥–∞—á–∞ –ø–æ —Ç–µ–æ—Ä–∏–∏ —á–∏—Å–µ–ª | 4 |

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã

–ü—Ä–æ–µ–∫—Ç —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ —Å–ª–µ–¥—É—é—â–∏—Ö –æ—Å–Ω–æ–≤–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤:

### Backend (FastAPI)
- **API –¥–ª—è –æ—Ü–µ–Ω–∫–∏ —Ä–µ—à–µ–Ω–∏–π**: –û—Å–Ω–æ–≤–Ω–æ–π endpoint –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –∏ –æ—Ü–µ–Ω–∫–∏ —Ä–µ—à–µ–Ω–∏–π
- **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–æ–¥–µ–ª—è–º–∏**: –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π –∏ –∏—Ö —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫
- **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å OpenRouter**: –ö–ª–∏–µ–Ω—Ç –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ –º–æ–¥–µ–ª—è–º–∏ –ò–ò
- **–û–±—Ä–∞–±–æ—Ç–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π**: –£—Ç–∏–ª–∏—Ç—ã –¥–ª—è –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –∫ –∞–Ω–∞–ª–∏–∑—É
- **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø—Ä–æ–º–ø—Ç–æ–≤**: –°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø—Ä–æ–º–ø—Ç—ã –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ –∑–∞–¥–∞—á

### Frontend (React + TypeScript)
- **–í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å**: –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ —Ä–µ—à–µ–Ω–∏–π –∏ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
- **–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π —Å—Ç–µ–∫**: React 19, TypeScript, Vite
- **Responsive –¥–∏–∑–∞–π–Ω**: –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤

### –°–∏—Å—Ç–µ–º–∞ –±–µ–Ω—á–º–∞—Ä–∫–∏–Ω–≥–∞
- **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –º–æ–¥–µ–ª–µ–π**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π –ò–ò
- **–ê–Ω–∞–ª–∏–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤**: –ü–æ–¥—Ä–æ–±–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- **–î–∞—Ç–∞—Å–µ—Ç**: –ö–æ–ª–ª–µ–∫—Ü–∏—è —Ä–µ—à–µ–Ω–∏–π —Å —ç—Ç–∞–ª–æ–Ω–Ω—ã–º–∏ –æ—Ü–µ–Ω–∫–∞–º–∏
- **–ú–µ—Ç—Ä–∏–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞**: –¢–æ—á–Ω–æ—Å—Ç—å, precision, recall, F1-score

## –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –¥–∞—Ç–∞—Å–µ—Ç–µ

### –û–±–∑–æ—Ä –¥–∞—Ç–∞—Å–µ—Ç–∞

**–ù–∞–∑–≤–∞–Ω–∏–µ:** Russian Math Exam Solutions Benchmark Dataset
**–ò—Å—Ç–æ—á–Ω–∏–∫:** –°–æ–±—Å—Ç–≤–µ–Ω–Ω–∞—è –∫–æ–ª–ª–µ–∫—Ü–∏—è —Ä–µ—à–µ–Ω–∏–π –∑–∞–¥–∞—á –ï–ì–≠ –ø–æ –º–∞—Ç–µ–º–∞—Ç–∏–∫–µ
**–í–µ—Ä—Å–∏—è:** 1.0
**–§–æ—Ä–º–∞—Ç:** HuggingFace Dataset
**–õ–∏—Ü–µ–Ω–∑–∏—è:** –¢–æ–ª—å–∫–æ –¥–ª—è –∏—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö —Ü–µ–ª–µ–π

–î–∞—Ç–∞—Å–µ—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç **122 –ø—Ä–∏–º–µ—Ä–∞** —Å—Ç—É–¥–µ–Ω—á–µ—Å–∫–∏—Ö —Ä–µ—à–µ–Ω–∏–π –∑–∞–¥–∞—á –ï–¥–∏–Ω–æ–≥–æ –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ —ç–∫–∑–∞–º–µ–Ω–∞ (–ï–ì–≠) –ø–æ –º–∞—Ç–µ–º–∞—Ç–∏–∫–µ —Å —ç—Ç–∞–ª–æ–Ω–Ω—ã–º–∏ –æ—Ü–µ–Ω–∫–∞–º–∏ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å–∏—Å—Ç–µ–º –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏.

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞—Ç–∞—Å–µ—Ç–∞

#### –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ —Ç–∏–ø–∞–º –∑–∞–¥–∞—á

| –¢–∏–ø –∑–∞–¥–∞—á–∏ | –û–ø–∏—Å–∞–Ω–∏–µ | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–∏–º–µ—Ä–æ–≤ | –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π –±–∞–ª–ª |
|------------|----------|-------------------|-------------------|
| 13 | –¢—Ä–∏–≥–æ–Ω–æ–º–µ—Ç—Ä–∏—á–µ—Å–∫–∏–µ —É—Ä–∞–≤–Ω–µ–Ω–∏—è | 21 | 2 |
| 14 | –°—Ç–µ—Ä–µ–æ–º–µ—Ç—Ä–∏—á–µ—Å–∫–∞—è –∑–∞–¥–∞—á–∞ | 18 | 3 |
| 15 | –õ–æ–≥–∞—Ä–∏—Ñ–º–∏—á–µ—Å–∫–∏–µ –Ω–µ—Ä–∞–≤–µ–Ω—Å—Ç–≤–∞ | 19 | 2 |
| 16 | –§–∏–Ω–∞–Ω—Å–æ–≤–∞—è –º–∞—Ç–µ–º–∞—Ç–∏–∫–∞ | 17 | 2 |
| 17 | –ü–ª–∞–Ω–∏–º–µ—Ç—Ä–∏—á–µ—Å–∫–∞—è –∑–∞–¥–∞—á–∞ | 15 | 3 |
| 18 | –ó–∞–¥–∞—á–∞ —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º | 16 | 4 |
| 19 | –ó–∞–¥–∞—á–∞ –ø–æ —Ç–µ–æ—Ä–∏–∏ —á–∏—Å–µ–ª | 16 | 4 |

#### –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –æ—Ü–µ–Ω–æ–∫

| –ë–∞–ª–ª | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ | –ü—Ä–æ—Ü–µ–Ω—Ç |
|------|------------|---------|
| 0 | 28 | 22.95% |
| 1 | 40 | 32.79% |
| 2 | 35 | 28.69% |
| 3 | 11 | 9.02% |
| 4 | 8 | 6.56% |

### –§–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö

–ö–∞–∂–¥—ã–π –ø—Ä–∏–º–µ—Ä –≤ –¥–∞—Ç–∞—Å–µ—Ç–µ —Å–æ–¥–µ—Ä–∂–∏—Ç —Å–ª–µ–¥—É—é—â–∏–µ –ø–æ–ª—è:

- **`solution_id`** (string): –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Ä–µ—à–µ–Ω–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, "13.1.1")
- **`task_id`** (string): –ù–æ–º–µ—Ä —Ç–∏–ø–∞ –∑–∞–¥–∞—á–∏ ("13"-"19")
- **`example_id`** (string): –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø—Ä–∏–º–µ—Ä–∞ –∑–∞–¥–∞—á–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, "13.1")
- **`task_type`** (string): –û–ø–∏—Å–∞–Ω–∏–µ —Ç–∏–ø–∞ –∑–∞–¥–∞—á–∏ –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ
- **`score`** (int64): –≠—Ç–∞–ª–æ–Ω–Ω–∞—è –æ—Ü–µ–Ω–∫–∞ (0-4 –±–∞–ª–ª–∞)
- **`parts_count`** (int64): –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —á–∞—Å—Ç–µ–π –≤ —Ä–µ—à–µ–Ω–∏–∏ (1-2)
- **`images_with_answer`** (Sequence[string]): –ü—É—Ç–∏ –∫ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º —Å —Ä–µ—à–µ–Ω–∏–µ–º –∏ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º –æ—Ç–≤–µ—Ç–æ–º
- **`images_without_answer`** (Sequence[string]): –ü—É—Ç–∏ –∫ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º —Ç–æ–ª—å–∫–æ —Å —Ä–µ—à–µ–Ω–∏–µ–º —Å—Ç—É–¥–µ–Ω—Ç–∞
- **`images_with_true_solution`** (Sequence[string]): –ü—É—Ç–∏ –∫ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º —Å —ç—Ç–∞–ª–æ–Ω–Ω—ã–º —Ä–µ—à–µ–Ω–∏–µ–º (–µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–Ω–æ)

### –°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

- **–§–æ—Ä–º–∞—Ç:** PNG
- **–†–∞–∑—Ä–µ—à–µ–Ω–∏–µ:** –ü–µ—Ä–µ–º–µ–Ω–Ω–æ–µ (–æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–æ –¥–ª—è —á–∏—Ç–∞–µ–º–æ—Å—Ç–∏)
- **–¶–≤–µ—Ç–æ–≤–∞—è —Å—Ö–µ–º–∞:** RGB
- **–†–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞:** 50KB - 2MB –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ —Ä–µ—à–µ–Ω–∏—è
- **–ö–∞—á–µ—Å—Ç–≤–æ:** –í—ã—Å–æ–∫–æ–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ –¥–ª—è —á–µ—Ç–∫–æ–≥–æ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ–æ—Ä–º—É–ª –∏ —Ç–µ–∫—Å—Ç–∞

### –ú–µ—Ç–æ–¥–æ–ª–æ–≥–∏—è —Å–±–æ—Ä–∞ –¥–∞–Ω–Ω—ã—Ö

1. **–ò—Å—Ç–æ—á–Ω–∏–∫:** –†–µ–∞–ª—å–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è —Å—Ç—É–¥–µ–Ω—Ç–æ–≤ –Ω–∞ —ç–∫–∑–∞–º–µ–Ω–∞—Ö –ï–ì–≠ –ø–æ –º–∞—Ç–µ–º–∞—Ç–∏–∫–µ
2. **–û—Ü–µ–Ω–∫–∞:** –ü—Ä–æ–≤–µ–¥–µ–Ω–∞ –∫–≤–∞–ª–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ —ç–∫—Å–ø–µ—Ä—Ç–∞–º–∏ —Å–æ–≥–ª–∞—Å–Ω–æ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–º –∫—Ä–∏—Ç–µ—Ä–∏—è–º –§–ò–ü–ò
3. **–û–±—Ä–∞–±–æ—Ç–∫–∞:**
   - –°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ—à–µ–Ω–∏–π –≤ –≤—ã—Å–æ–∫–æ–º —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–∏
   - –°–æ–∑–¥–∞–Ω–∏–µ –≤–µ—Ä—Å–∏–π —Å –æ—Ç–≤–µ—Ç–∞–º–∏ –∏ –±–µ–∑ –æ—Ç–≤–µ—Ç–æ–≤
   - –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —ç—Ç–∞–ª–æ–Ω–Ω—ã—Ö —Ä–µ—à–µ–Ω–∏–π –¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è
   - –í–∞–ª–∏–¥–∞—Ü–∏—è –æ—Ü–µ–Ω–æ–∫ –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ —ç–∫—Å–ø–µ—Ä—Ç–∞–º–∏

### –ü—Ä–µ–¥–æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö

1. **–û–±—Ä–∞–±–æ—Ç–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π:**
   - –£–ª—É—á—à–µ–Ω–∏–µ –∫–æ–Ω—Ç—Ä–∞—Å—Ç–Ω–æ—Å—Ç–∏ (–∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç 1.3)
   - –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ –¥–æ –º–∞–∫—Å–∏–º—É–º 2048px –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
   - –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –≤ base64 –¥–ª—è API-–∑–∞–ø—Ä–æ—Å–æ–≤

2. **–°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö:**
   - –°–æ–∑–¥–∞–Ω–∏–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö –≤ JSON —Ñ–æ—Ä–º–∞—Ç–µ
   - –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è —Ñ–∞–π–ª–æ–≤ –ø–æ —Ç–∏–ø–∞–º –∑–∞–¥–∞—á –∏ –ø—Ä–∏–º–µ—Ä–∞–º
   - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è HuggingFace Dataset –¥–ª—è —É–¥–æ–±–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞

### –î–æ—Å—Ç—É–ø –∫ –¥–∞—Ç–∞—Å–µ—Ç—É

#### –õ–æ–∫–∞–ª—å–Ω—ã–π –¥–æ—Å—Ç—É–ø

```python
from datasets import load_from_disk

# –ó–∞–≥—Ä—É–∑–∫–∞ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –¥–∞—Ç–∞—Å–µ—Ç–∞
dataset = load_from_disk("dataset_benchmark_hf")

# –ó–∞–≥—Ä—É–∑–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–Ω–æ–≥–æ –¥–∞—Ç–∞—Å–µ—Ç–∞ —Å —ç—Ç–∞–ª–æ–Ω–Ω—ã–º–∏ —Ä–µ—à–µ–Ω–∏—è–º–∏
dataset_updated = load_from_disk("dataset_benchmark_hf_updated")

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ø—Ä–∏–º–µ—Ä–∞
example = dataset[0]
print(f"Solution ID: {example['solution_id']}")
print(f"Task: {example['task_type']}")
print(f"Score: {example['score']}")
print(f"Images: {len(example['images_without_answer'])}")
```

#### –ê–Ω–∞–ª–∏–∑ –¥–∞—Ç–∞—Å–µ—Ç–∞

```bash
# –ê–Ω–∞–ª–∏–∑ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞—Ç–∞—Å–µ—Ç–∞
python analyze_dataset.py

# –ê–Ω–∞–ª–∏–∑ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –≤–µ—Ä—Å–∏–∏
python analyze_dataset.py dataset_benchmark_hf_updated
```

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤ –¥–∞—Ç–∞—Å–µ—Ç–∞

```
dataset_benchmark/
‚îú‚îÄ‚îÄ metadata.json                 # –ü–æ–ª–Ω—ã–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –≤—Å–µ—Ö –ø—Ä–∏–º–µ—Ä–æ–≤
‚îú‚îÄ‚îÄ metadata.csv                  # –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –≤ CSV —Ñ–æ—Ä–º–∞—Ç–µ
‚îú‚îÄ‚îÄ 13/                          # –ó–∞–¥–∞—á–∏ —Ç–∏–ø–∞ 13
‚îÇ   ‚îú‚îÄ‚îÄ 13.1/                    # –ü—Ä–∏–º–µ—Ä 13.1
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ 13.1_solve_true.png  # –≠—Ç–∞–ª–æ–Ω–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ 13.1.1/              # –†–µ—à–µ–Ω–∏–µ —Å—Ç—É–¥–µ–Ω—Ç–∞ 1
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ with_answer/     # –° –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º –æ—Ç–≤–µ—Ç–æ–º
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ without_answer/  # –¢–æ–ª—å–∫–æ —Ä–µ—à–µ–Ω–∏–µ
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ 13.1.2/              # –†–µ—à–µ–Ω–∏–µ —Å—Ç—É–¥–µ–Ω—Ç–∞ 2
‚îÇ   ‚îî‚îÄ‚îÄ 13.2/                    # –ü—Ä–∏–º–µ—Ä 13.2
‚îú‚îÄ‚îÄ 14/                          # –ó–∞–¥–∞—á–∏ —Ç–∏–ø–∞ 14
‚îî‚îÄ‚îÄ ...                          # –û—Å—Ç–∞–ª—å–Ω—ã–µ —Ç–∏–ø—ã –∑–∞–¥–∞—á

dataset_benchmark_hf/            # HuggingFace Dataset
‚îú‚îÄ‚îÄ README.md                    # –û–ø–∏—Å–∞–Ω–∏–µ –¥–∞—Ç–∞—Å–µ—Ç–∞
‚îú‚îÄ‚îÄ dataset_info.json           # –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ
‚îú‚îÄ‚îÄ data-00000-of-00001.arrow    # –î–∞–Ω–Ω—ã–µ –≤ —Ñ–æ—Ä–º–∞—Ç–µ Arrow
‚îú‚îÄ‚îÄ state.json                   # –°–æ—Å—Ç–æ—è–Ω–∏–µ –¥–∞—Ç–∞—Å–µ—Ç–∞
‚îú‚îÄ‚îÄ with_answer/                 # –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å –æ—Ç–≤–µ—Ç–∞–º–∏
‚îú‚îÄ‚îÄ without_answer/              # –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –±–µ–∑ –æ—Ç–≤–µ—Ç–æ–≤
‚îî‚îÄ‚îÄ with_true_solution/          # –≠—Ç–∞–ª–æ–Ω–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è
```

## –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

### Backend
- **Python 3.8+**
- **FastAPI** - —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –≤–µ–±-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –¥–ª—è API
- **OpenRouter API** - –¥–æ—Å—Ç—É–ø –∫ —Ä–∞–∑–ª–∏—á–Ω—ã–º –º–æ–¥–µ–ª—è–º –ò–ò
- **Pillow** - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- **Pydantic** - –≤–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
- **httpx** - –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ HTTP-–∑–∞–ø—Ä–æ—Å—ã

### Frontend
- **React 19** - –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤
- **TypeScript** - —Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π JavaScript
- **Vite** - –±—ã—Å—Ç—Ä—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç —Å–±–æ—Ä–∫–∏
- **Axios** - HTTP-–∫–ª–∏–µ–Ω—Ç –¥–ª—è API –∑–∞–ø—Ä–æ—Å–æ–≤

### –ë–µ–Ω—á–º–∞—Ä–∫–∏–Ω–≥ –∏ –¥–∞–Ω–Ω—ã–µ
- **HuggingFace Datasets** - —Ä–∞–±–æ—Ç–∞ —Å –¥–∞—Ç–∞—Å–µ—Ç–∞–º–∏
- **NumPy** - —á–∏—Å–ª–µ–Ω–Ω—ã–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è
- **Pandas** - –∞–Ω–∞–ª–∏–∑ –¥–∞–Ω–Ω—ã—Ö
- **JSON** - —Ö—Ä–∞–Ω–µ–Ω–∏–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö –∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

1. **Python 3.8+**
2. **Node.js 16+** (–¥–ª—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞)
3. **OpenRouter API –∫–ª—é—á** - –ø–æ–ª—É—á–∏—Ç–µ –Ω–∞ [openrouter.ai](https://openrouter.ai)

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

#### 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
```bash
git clone https://github.com/Karifannaa/Auto-check-EGE-math.git
cd Auto-check-EGE-math
```

#### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ backend
```bash
cd backend

# –°–æ–∑–¥–∞–Ω–∏–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è
python -m venv venv
source venv/bin/activate  # –ù–∞ Windows: venv\Scripts\activate

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
pip install -r requirements.txt

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
cp .env.example .env
# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ .env —Ñ–∞–π–ª, –¥–æ–±–∞–≤–∏–≤ –≤–∞—à OpenRouter API –∫–ª—é—á
```

#### 3. –ó–∞–ø—É—Å–∫ backend
```bash
uvicorn app.main:app --reload
```

Backend –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É: http://localhost:8000

#### 4. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ frontend (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
```bash
cd ../frontend

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
npm install

# –ó–∞–ø—É—Å–∫ –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
npm run dev
```

Frontend –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É: http://localhost:5173

## API Endpoints

### –û—Å–Ω–æ–≤–Ω—ã–µ endpoints

#### –û—Ü–µ–Ω–∫–∞ —Ä–µ—à–µ–Ω–∏–π
- `POST /api/v1/solutions/evaluate` - –û—Ü–µ–Ω–∏—Ç—å —Ä–µ—à–µ–Ω–∏–µ –∑–∞–¥–∞—á–∏

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `task_type` - —Ç–∏–ø –∑–∞–¥–∞—á–∏ (task_13, task_14, –∏ —Ç.–¥.)
- `model_id` - –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –º–æ–¥–µ–ª–∏
- `student_solution_image` - –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å —Ä–µ—à–µ–Ω–∏–µ–º —Å—Ç—É–¥–µ–Ω—Ç–∞
- `correct_solution_image` - –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º —Ä–µ—à–µ–Ω–∏–µ–º (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- `temperature` - —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –º–æ–¥–µ–ª–∏ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 0.7)
- `max_tokens` - –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–æ–∫–µ–Ω–æ–≤ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 10000)

#### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–æ–¥–µ–ª—è–º–∏
- `GET /api/v1/models/available` - –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π
- `GET /api/v1/models/task-types` - –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ —Ç–∏–ø–æ–≤ –∑–∞–¥–∞—á
- `GET /api/v1/models/credits` - –ü–æ–ª—É—á–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∫—Ä–µ–¥–∏—Ç–∞—Ö –∞–∫–∫–∞—É–Ω—Ç–∞
- `GET /api/v1/models/cost-estimate/{model_id}` - –û—Ü–µ–Ω–∫–∞ —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –º–æ–¥–µ–ª–∏

### –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- `GET /` - –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º –¥–ª—è –æ—Ü–µ–Ω–∫–∏ —Ä–µ—à–µ–Ω–∏–π
- `GET /batch` - –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –ø–∞–∫–µ—Ç–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
Auto-check-EGE-math/
‚îú‚îÄ‚îÄ backend/                          # Backend –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
‚îÇ   ‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ api/                      # API –∫–ª–∏–µ–Ω—Ç—ã
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ openrouter_client.py  # –ö–ª–∏–µ–Ω—Ç OpenRouter
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ core/                     # –û—Å–Ω–æ–≤–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ config.py             # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ models/                   # –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ solution.py           # –ú–æ–¥–µ–ª–∏ –¥–ª—è —Ä–µ—à–µ–Ω–∏–π
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ routers/                  # API –º–∞—Ä—à—Ä—É—Ç—ã
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ solutions.py          # –ú–∞—Ä—à—Ä—É—Ç—ã –¥–ª—è —Ä–µ—à–µ–Ω–∏–π
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ models.py             # –ú–∞—Ä—à—Ä—É—Ç—ã –¥–ª—è –º–æ–¥–µ–ª–µ–π
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ web.py                # –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ utils/                    # –£—Ç–∏–ª–∏—Ç—ã
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ image_utils.py        # –û–±—Ä–∞–±–æ—Ç–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ prompt_utils.py       # –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø—Ä–æ–º–ø—Ç–æ–≤
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ cost_calculator.py    # –†–∞—Å—á–µ—Ç —Å—Ç–æ–∏–º–æ—Å—Ç–∏
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ score_extractor.py    # –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –æ—Ü–µ–Ω–æ–∫
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ static/                   # –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ templates/                # HTML —à–∞–±–ª–æ–Ω—ã
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ main.py                   # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îÇ   ‚îú‚îÄ‚îÄ tests/                        # –¢–µ—Å—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ requirements.txt              # Python –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îÇ   ‚îî‚îÄ‚îÄ README.md                     # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è backend
‚îú‚îÄ‚îÄ frontend/                         # Frontend –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
‚îÇ   ‚îú‚îÄ‚îÄ src/                          # –ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥
‚îÇ   ‚îú‚îÄ‚îÄ public/                       # –ü—É–±–ª–∏—á–Ω—ã–µ —Ñ–∞–π–ª—ã
‚îÇ   ‚îú‚îÄ‚îÄ package.json                  # Node.js –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îÇ   ‚îî‚îÄ‚îÄ README.md                     # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è frontend
‚îú‚îÄ‚îÄ dataset_benchmark/                # –°–∏—Å—Ç–µ–º–∞ –±–µ–Ω—á–º–∞—Ä–∫–∏–Ω–≥–∞
‚îÇ   ‚îú‚îÄ‚îÄ benchmark_models.py           # –û—Å–Ω–æ–≤–Ω–æ–π –º–æ–¥—É–ª—å –±–µ–Ω—á–º–∞—Ä–∫–∏–Ω–≥–∞
‚îÇ   ‚îú‚îÄ‚îÄ run_full_benchmark.py         # –ó–∞–ø—É—Å–∫ –ø–æ–ª–Ω–æ–≥–æ –±–µ–Ω—á–º–∞—Ä–∫–∞
‚îÇ   ‚îú‚îÄ‚îÄ run_task13_benchmark.py       # –ë–µ–Ω—á–º–∞—Ä–∫ –¥–ª—è –∑–∞–¥–∞—á–∏ 13
‚îÇ   ‚îú‚îÄ‚îÄ analyze_existing_results.py   # –ê–Ω–∞–ª–∏–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ metadata.json                 # –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –¥–∞—Ç–∞—Å–µ—Ç–∞
‚îÇ   ‚îú‚îÄ‚îÄ benchmark_results/            # –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –±–µ–Ω—á–º–∞—Ä–∫–æ–≤
‚îÇ   ‚îî‚îÄ‚îÄ [13-19]/                      # –ü–∞–ø–∫–∏ —Å –∑–∞–¥–∞—á–∞–º–∏ –ø–æ —Ç–∏–ø–∞–º
‚îú‚îÄ‚îÄ dataset_benchmark_hf/             # HuggingFace –¥–∞—Ç–∞—Å–µ—Ç
‚îú‚îÄ‚îÄ fipi_examples_of_estimation/      # –ü—Ä–∏–º–µ—Ä—ã –æ—Ü–µ–Ω–∏–≤–∞–Ω–∏—è –§–ò–ü–ò
‚îî‚îÄ‚îÄ README.md                         # –û—Å–Ω–æ–≤–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
```

## –ë–µ–Ω—á–º–∞—Ä–∫–∏–Ω–≥ –º–æ–¥–µ–ª–µ–π

–°–∏—Å—Ç–µ–º–∞ –≤–∫–ª—é—á–∞–µ—Ç –≤ —Å–µ–±—è –º–æ—â–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π –ò–ò –Ω–∞ –¥–∞—Ç–∞—Å–µ—Ç–µ —Ä–µ—à–µ–Ω–∏–π –ï–ì–≠.

### –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –¥–ª—è –±–µ–Ω—á–º–∞—Ä–∫–∏–Ω–≥–∞

1. **–ù–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π backend** —Å OpenRouter API –∫–ª—é—á–æ–º
2. **–î–∞—Ç–∞—Å–µ—Ç** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ
3. **–î–æ—Å—Ç–∞—Ç–æ—á–Ω—ã–π –±–∞–ª–∞–Ω—Å** –Ω–∞ OpenRouter –∞–∫–∫–∞—É–Ω—Ç–µ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –º–æ–¥–µ–ª–µ–π

### –î–æ—Å—Ç—É–ø–Ω—ã–µ –º–æ–¥–µ–ª–∏ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

#### Reasoning –º–æ–¥–µ–ª–∏ (—Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –º—ã—à–ª–µ–Ω–∏—è)
- `moonshotai/kimi-vl-a3b-thinking:free` - –ë–µ—Å–ø–ª–∞—Ç–Ω–∞—è –º–æ–¥–µ–ª—å Kimi —Å –≤–∏–∑—É–∞–ª—å–Ω—ã–º–∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è–º–∏
- `google/gemini-2.5-flash-preview:thinking` - Gemini —Å —Ä–µ–∂–∏–º–æ–º –º—ã—à–ª–µ–Ω–∏—è
- `google/gemini-2.0-flash-exp` - –≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è Gemini

#### Non-reasoning –º–æ–¥–µ–ª–∏
- `qwen/qwen2.5-vl-32b-instruct:free` - –ë–µ—Å–ø–ª–∞—Ç–Ω–∞—è –º–æ–¥–µ–ª—å Qwen —Å –≤–∏–∑—É–∞–ª—å–Ω—ã–º–∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è–º–∏
- `gpt-4o` - GPT-4 Omni –æ—Ç OpenAI
- `gpt-4o-mini` - –û–±–ª–µ–≥—á–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è GPT-4 Omni

### –ó–∞–ø—É—Å–∫ –±–µ–Ω—á–º–∞—Ä–∫–æ–≤

#### 1. –ü–æ–ª–Ω—ã–π –±–µ–Ω—á–º–∞—Ä–∫ –≤—Å–µ—Ö –∑–∞–¥–∞—á

```bash
cd dataset_benchmark

# –ó–∞–ø—É—Å–∫ —Å –±–µ—Å–ø–ª–∞—Ç–Ω—ã–º–∏ –º–æ–¥–µ–ª—è–º–∏ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è –Ω–∞—á–∞–ª–∞)
python run_full_benchmark.py

# –ó–∞–ø—É—Å–∫ —Å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º–∏ –º–æ–¥–µ–ª—è–º–∏
python run_full_benchmark.py --models "moonshotai/kimi-vl-a3b-thinking:free" "google/gemini-2.0-flash-exp"

# –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –ø—Ä–∏–º–µ—Ä–æ–≤ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
python run_full_benchmark.py --max-examples 5
```

#### 2. –ë–µ–Ω—á–º–∞—Ä–∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –∑–∞–¥–∞—á–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∑–∞–¥–∞—á–∞ 13)

```bash
# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–æ–ª—å–∫–æ –∑–∞–¥–∞—á–∏ 13
python run_task13_benchmark.py

# –° –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
python run_task13_benchmark.py --models "google/gemini-2.0-flash-exp" --max-examples 10
```

#### 3. –ë–µ–Ω—á–º–∞—Ä–∫ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —ç—Ç–∞–ª–æ–Ω–Ω—ã—Ö —Ä–µ—à–µ–Ω–∏–π

```bash
# –ó–∞–ø—É—Å–∫ –±–µ–Ω—á–º–∞—Ä–∫–∞ —Å —ç—Ç–∞–ª–æ–Ω–Ω—ã–º–∏ —Ä–µ—à–µ–Ω–∏—è–º–∏ –¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è
python benchmark_models.py --task-id 13 --models "google/gemini-2.0-flash-exp" --use-true-solution
```

### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –±–µ–Ω—á–º–∞—Ä–∫–∏–Ω–≥–∞

#### –û—Å–Ω–æ–≤–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã

- `--models` - –°–ø–∏—Å–æ–∫ –º–æ–¥–µ–ª–µ–π –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- `--max-examples` - –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–∏–º–µ—Ä–æ–≤ –Ω–∞ –∑–∞–¥–∞—á—É
- `--task-id` - –ö–æ–Ω–∫—Ä–µ—Ç–Ω–∞—è –∑–∞–¥–∞—á–∞ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è (13-19)
- `--use-true-solution` - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —ç—Ç–∞–ª–æ–Ω–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è –¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è
- `--prompt-variant` - –í–∞—Ä–∏–∞–Ω—Ç –ø—Ä–æ–º–ø—Ç–∞ (basic, detailed, with_solution)
- `--temperature` - –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –º–æ–¥–µ–ª–∏ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 0.7)

#### –ü—Ä–∏–º–µ—Ä—ã –∫–æ–º–∞–Ω–¥

```bash
# –ë—ã—Å—Ç—Ä–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –ø—Ä–∏–º–µ—Ä–æ–≤
python run_full_benchmark.py --max-examples 3

# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –º–æ–¥–µ–ª–∏ –Ω–∞ –≤—Å–µ—Ö –∑–∞–¥–∞—á–∞—Ö
python run_full_benchmark.py --models "moonshotai/kimi-vl-a3b-thinking:free"

# –î–µ—Ç–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏ 13 —Å —ç—Ç–∞–ª–æ–Ω–Ω—ã–º–∏ —Ä–µ—à–µ–Ω–∏—è–º–∏
python benchmark_models.py --task-id 13 --use-true-solution --prompt-variant detailed

# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –º–æ–¥–µ–ª–µ–π —Å —Ä–∞–∑–Ω—ã–º–∏ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞–º–∏
python benchmark_models.py --models "google/gemini-2.0-flash-exp" "gpt-4o-mini" --temperature 0.3
```

### –ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

#### –§–∞–π–ª—ã —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

–ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –±–µ–Ω—á–º–∞—Ä–∫–∞ —Å–æ–∑–¥–∞—é—Ç—Å—è —Å–ª–µ–¥—É—é—â–∏–µ —Ñ–∞–π–ª—ã:

1. **–û—Å–Ω–æ–≤–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã**: `benchmark_results/benchmark_[model]_[timestamp].json`
2. **–ê–Ω–∞–ª–∏–∑**: `benchmark_results/benchmark_[model]_[timestamp]_analysis.json`
3. **–¢–∞–±–ª–∏—Ü—ã –º–µ—Ç—Ä–∏–∫**: `benchmark_results/benchmark_[model]_[timestamp]_metrics_table.tex`

#### –ö–ª—é—á–µ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏

- **Accuracy (–¢–æ—á–Ω–æ—Å—Ç—å)**: –ü—Ä–æ—Ü–µ–Ω—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ—Ü–µ–Ω–µ–Ω–Ω—ã—Ö —Ä–µ—à–µ–Ω–∏–π
- **Quality Score**: –ö–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–∞—è –æ—Ü–µ–Ω–∫–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ –±–ª–∏–∑–æ—Å—Ç–∏ –∫ —ç—Ç–∞–ª–æ–Ω–Ω–æ–π –æ—Ü–µ–Ω–∫–µ
- **Precision/Recall/F1**: –ú–µ—Ç—Ä–∏–∫–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –±–∞–ª–ª–∞ –æ—Ç–¥–µ–ª—å–Ω–æ
- **Average Score Distance**: –°—Ä–µ–¥–Ω–µ–µ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ –æ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –æ—Ü–µ–Ω–∫–∏
- **Confusion Matrix**: –ú–∞—Ç—Ä–∏—Ü–∞ –æ—à–∏–±–æ–∫ –¥–ª—è –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞

#### –ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

```
Benchmark Summary:
Total examples: 122
Total evaluations: 244
Total cost: $2.4567
Average quality score: 78.45%

Model Performance:

google/gemini-2.0-flash-exp:
  with_answer:
    Accuracy: 73.77%
    Quality score: 81.25%
    Avg. score distance: 0.43
    Macro precision: 75.20%
    Macro recall: 71.80%
    Macro F1: 73.45%
    Evaluations: 122
    Avg. evaluation time: 8.45s
    Total cost: $1.2345
```

### –ê–Ω–∞–ª–∏–∑ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

```bash
# –ê–Ω–∞–ª–∏–∑ —É–∂–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
python analyze_existing_results.py

# –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ —Ä–∞–∑–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π
python analyze_existing_results.py --compare-models
```

### –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

#### –ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è

1. **–û—à–∏–±–∫–∞ "Rate limit exceeded"**
   ```
   –†–µ—à–µ–Ω–∏–µ: –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–≤—Ç–æ—Ä—è–µ—Ç –∑–∞–ø—Ä–æ—Å—ã —Å —ç–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª—å–Ω–æ–π –∑–∞–¥–µ—Ä–∂–∫–æ–π.
   –ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è, —É–º–µ–Ω—å—à–∏—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –º–æ–¥–µ–ª–∏ —Å –±–æ–ª–µ–µ –≤—ã—Å–æ–∫–∏–º–∏ –ª–∏–º–∏—Ç–∞–º–∏.
   ```

2. **–û—à–∏–±–∫–∞ "OpenRouter API key not configured"**
   ```bash
   # –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ API –∫–ª—é—á –Ω–∞—Å—Ç—Ä–æ–µ–Ω –≤ backend/.env
   echo "OPENROUTER_API_KEY=your_key_here" >> backend/.env
   ```

3. **–û—à–∏–±–∫–∞ "Dataset not found"**
   ```bash
   # –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –¥–∞—Ç–∞—Å–µ—Ç –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –ø–∞–ø–∫–µ
   ls dataset_benchmark_hf/
   # –ï—Å–ª–∏ –¥–∞—Ç–∞—Å–µ—Ç –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç, –æ–Ω –±—É–¥–µ—Ç –∑–∞–≥—Ä—É–∂–µ–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ
   ```

4. **–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å—Ä–µ–¥—Å—Ç–≤ –Ω–∞ –∞–∫–∫–∞—É–Ω—Ç–µ**
   ```
   –†–µ—à–µ–Ω–∏–µ: –ü–æ–ø–æ–ª–Ω–∏—Ç–µ –±–∞–ª–∞–Ω—Å –Ω–∞ OpenRouter –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –±–µ—Å–ø–ª–∞—Ç–Ω—ã–µ –º–æ–¥–µ–ª–∏:
   - moonshotai/kimi-vl-a3b-thinking:free
   - qwen/qwen2.5-vl-32b-instruct:free
   ```

5. **–ú–µ–¥–ª–µ–Ω–Ω–∞—è —Ä–∞–±–æ—Ç–∞ –±–µ–Ω—á–º–∞—Ä–∫–∞**
   ```bash
   # –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –ø—Ä–∏–º–µ—Ä–æ–≤ –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
   python run_full_benchmark.py --max-examples 5

   # –ò–ª–∏ —Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ —Ç–æ–ª—å–∫–æ –æ–¥–Ω—É –∑–∞–¥–∞—á—É
   python run_task13_benchmark.py --max-examples 10
   ```

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

1. **–ù–∞—á–Ω–∏—Ç–µ —Å –±–µ—Å–ø–ª–∞—Ç–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π** –¥–ª—è –æ–∑–Ω–∞–∫–æ–º–ª–µ–Ω–∏—è —Å —Å–∏—Å—Ç–µ–º–æ–π
2. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –ø—Ä–∏–º–µ—Ä–æ–≤** (`--max-examples`) –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
3. **–°–æ—Ö—Ä–∞–Ω—è–π—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã** –¥–ª—è –ø–æ—Å–ª–µ–¥—É—é—â–µ–≥–æ –∞–Ω–∞–ª–∏–∑–∞ –∏ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è
4. **–ú–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ —Ä–∞—Å—Ö–æ–¥—ã** —á–µ—Ä–µ–∑ OpenRouter dashboard
5. **–ê–Ω–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ confusion matrix** –¥–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è —Ç–∏–ø–æ–≤ –æ—à–∏–±–æ–∫ –º–æ–¥–µ–ª–∏

## –ú–µ—Ç–æ–¥–æ–ª–æ–≥–∏—è –±–µ–Ω—á–º–∞—Ä–∫–∏–Ω–≥–∞

### –û–±–∑–æ—Ä –º–µ—Ç–æ–¥–æ–ª–æ–≥–∏–∏

–°–∏—Å—Ç–µ–º–∞ –±–µ–Ω—á–º–∞—Ä–∫–∏–Ω–≥–∞ –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–∞ –¥–ª—è –∫–æ–º–ø–ª–µ–∫—Å–Ω–æ–π –æ—Ü–µ–Ω–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –º–æ–¥–µ–ª–µ–π –ò–ò –Ω–∞ –∑–∞–¥–∞—á–∞—Ö –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–µ—à–µ–Ω–∏–π –ï–ì–≠ –ø–æ –º–∞—Ç–µ–º–∞—Ç–∏–∫–µ. –ú–µ—Ç–æ–¥–æ–ª–æ–≥–∏—è –æ—Å–Ω–æ–≤–∞–Ω–∞ –Ω–∞ —Å—Ä–∞–≤–Ω–µ–Ω–∏–∏ –æ—Ü–µ–Ω–æ–∫ –º–æ–¥–µ–ª–∏ —Å —ç—Ç–∞–ª–æ–Ω–Ω—ã–º–∏ –æ—Ü–µ–Ω–∫–∞–º–∏ —ç–∫—Å–ø–µ—Ä—Ç–æ–≤.

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –±–µ–Ω—á–º–∞—Ä–∫–∞

#### –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

1. **ModelBenchmark** - –æ—Å–Ω–æ–≤–Ω–æ–π –∫–ª–∞—Å—Å –¥–ª—è –ø—Ä–æ–≤–µ–¥–µ–Ω–∏—è –±–µ–Ω—á–º–∞—Ä–∫–æ–≤
2. **OpenRouterClient** - –∫–ª–∏–µ–Ω—Ç –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å –º–æ–¥–µ–ª—è–º–∏ —á–µ—Ä–µ–∑ OpenRouter API
3. **PromptGenerator** - –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø—Ä–æ–º–ø—Ç–æ–≤ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ –∑–∞–¥–∞—á
4. **–°–∏—Å—Ç–µ–º–∞ –º–µ—Ç—Ä–∏–∫** - —Ä–∞—Å—á–µ—Ç —Ç–æ—á–Ω–æ—Å—Ç–∏, precision, recall, F1-score –∏ –¥—Ä—É–≥–∏—Ö –ø–æ–∫–∞–∑–∞—Ç–µ–ª–µ–π

#### –¢–∏–ø—ã –æ—Ü–µ–Ω–∫–∏

1. **–° –æ—Ç–≤–µ—Ç–æ–º** (`with_answer`): –ú–æ–¥–µ–ª—å –≤–∏–¥–∏—Ç —Ä–µ—à–µ–Ω–∏–µ —Å—Ç—É–¥–µ–Ω—Ç–∞ —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º –æ—Ç–≤–µ—Ç–æ–º
2. **–ë–µ–∑ –æ—Ç–≤–µ—Ç–∞** (`without_answer`): –ú–æ–¥–µ–ª—å –≤–∏–¥–∏—Ç —Ç–æ–ª—å–∫–æ —Ä–µ—à–µ–Ω–∏–µ —Å—Ç—É–¥–µ–Ω—Ç–∞
3. **–° —ç—Ç–∞–ª–æ–Ω–Ω—ã–º —Ä–µ—à–µ–Ω–∏–µ–º** (`with_true_solution`): –ú–æ–¥–µ–ª—å –≤–∏–¥–∏—Ç —ç—Ç–∞–ª–æ–Ω–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ –¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è

### –ú–µ—Ç—Ä–∏–∫–∏ –æ—Ü–µ–Ω–∫–∏

#### –û—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏

1. **Accuracy (–¢–æ—á–Ω–æ—Å—Ç—å)**: –ü—Ä–æ—Ü–µ–Ω—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ—Ü–µ–Ω–µ–Ω–Ω—ã—Ö —Ä–µ—à–µ–Ω–∏–π
   ```
   Accuracy = (–ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ –æ—Ü–µ–Ω–∫–∏) / (–û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—Ü–µ–Ω–æ–∫) √ó 100%
   ```

2. **Quality Score**: –ö–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–∞—è –æ—Ü–µ–Ω–∫–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ –±–ª–∏–∑–æ—Å—Ç–∏ –∫ —ç—Ç–∞–ª–æ–Ω–Ω–æ–π –æ—Ü–µ–Ω–∫–µ
   ```
   Quality Score = 1 - (|–û—Ü–µ–Ω–∫–∞ –º–æ–¥–µ–ª–∏ - –≠—Ç–∞–ª–æ–Ω–Ω–∞—è –æ—Ü–µ–Ω–∫–∞|) / –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π –±–∞–ª–ª
   ```

3. **Average Score Distance**: –°—Ä–µ–¥–Ω–µ–µ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ –æ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –æ—Ü–µ–Ω–∫–∏
   ```
   Avg Distance = Œ£|–û—Ü–µ–Ω–∫–∞ –º–æ–¥–µ–ª–∏ - –≠—Ç–∞–ª–æ–Ω–Ω–∞—è –æ—Ü–µ–Ω–∫–∞| / –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—Ü–µ–Ω–æ–∫
   ```

#### –î–µ—Ç–∞–ª—å–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏

–î–ª—è –∫–∞–∂–¥–æ–≥–æ –≤–æ–∑–º–æ–∂–Ω–æ–≥–æ –±–∞–ª–ª–∞ (0-4) —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞—é—Ç—Å—è:

- **Precision**: TP / (TP + FP) - —Ç–æ—á–Ω–æ—Å—Ç—å –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –±–∞–ª–ª–∞
- **Recall**: TP / (TP + FN) - –ø–æ–ª–Ω–æ—Ç–∞ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –±–∞–ª–ª–∞
- **F1-Score**: 2 √ó (Precision √ó Recall) / (Precision + Recall)

#### –ú–∞–∫—Ä–æ-–º–µ—Ç—Ä–∏–∫–∏

- **Macro Precision**: –°—Ä–µ–¥–Ω–µ–µ –∞—Ä–∏—Ñ–º–µ—Ç–∏—á–µ—Å–∫–æ–µ precision –ø–æ –≤—Å–µ–º –±–∞–ª–ª–∞–º
- **Macro Recall**: –°—Ä–µ–¥–Ω–µ–µ –∞—Ä–∏—Ñ–º–µ—Ç–∏—á–µ—Å–∫–æ–µ recall –ø–æ –≤—Å–µ–º –±–∞–ª–ª–∞–º
- **Macro F1**: –°—Ä–µ–¥–Ω–µ–µ –∞—Ä–∏—Ñ–º–µ—Ç–∏—á–µ—Å–∫–æ–µ F1-score –ø–æ –≤—Å–µ–º –±–∞–ª–ª–∞–º

### –ü—Ä–æ—Ü–µ–¥—É—Ä–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –±–µ–Ω—á–º–∞—Ä–∫–∞

#### 1. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è

```python
# –°–æ–∑–¥–∞–Ω–∏–µ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ –±–µ–Ω—á–º–∞—Ä–∫–∞
benchmark = ModelBenchmark(
    dataset_dir="dataset_benchmark_hf",
    results_dir="benchmark_results",
    max_retries=10,
    initial_delay=15,
    max_delay=120
)
```

#### 2. –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö

```python
# –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —Ç–∏–ø—É –∑–∞–¥–∞—á–∏
filtered_data = benchmark.filter_dataset(task_id="13")

# –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –ø—Ä–∏–º–µ—Ä–æ–≤
if max_examples:
    filtered_data = filtered_data[:max_examples]
```

#### 3. –û–±—Ä–∞–±–æ—Ç–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

–î–ª—è –∫–∞–∂–¥–æ–≥–æ –ø—Ä–∏–º–µ—Ä–∞ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è:

1. **–ó–∞–≥—Ä—É–∑–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π** –∏–∑ —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã
2. **–ü—Ä–µ–¥–æ–±—Ä–∞–±–æ—Ç–∫–∞**:
   - –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ –¥–æ –º–∞–∫—Å–∏–º—É–º 2048px
   - –£–ª—É—á—à–µ–Ω–∏–µ –∫–æ–Ω—Ç—Ä–∞—Å—Ç–Ω–æ—Å—Ç–∏ (–∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç 1.3)
   - –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –≤ base64 –¥–ª—è API
3. **–°–æ–∑–¥–∞–Ω–∏–µ —Å–æ—Å—Ç–∞–≤–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π** –¥–ª—è –º–Ω–æ–≥–æ—á–∞—Å—Ç–Ω—ã—Ö —Ä–µ—à–µ–Ω–∏–π

#### 4. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø—Ä–æ–º–ø—Ç–æ–≤

–°–∏—Å—Ç–µ–º–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø—Ä–æ–º–ø—Ç—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–∏–ø–∞ –∑–∞–¥–∞—á–∏:

- **basic**: –ë–∞–∑–æ–≤—ã–π –ø—Ä–æ–º–ø—Ç –¥–ª—è –æ—Ü–µ–Ω–∫–∏
- **detailed**: –î–µ—Ç–∞–ª—å–Ω—ã–π –ø—Ä–æ–º–ø—Ç —Å –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ–º –∫—Ä–∏—Ç–µ—Ä–∏–µ–≤
- **with_solution**: –ü—Ä–æ–º–ø—Ç –¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è —Å —ç—Ç–∞–ª–æ–Ω–Ω—ã–º —Ä–µ—à–µ–Ω–∏–µ–º

#### 5. –í—ã–∑–æ–≤ API –º–æ–¥–µ–ª–∏

```python
# –í—ã–∑–æ–≤ API —Å –æ–±—Ä–∞–±–æ—Ç–∫–æ–π –æ—à–∏–±–æ–∫ –∏ –ø–æ–≤—Ç–æ—Ä–Ω—ã–º–∏ –ø–æ–ø—ã—Ç–∫–∞–º–∏
response = await client.chat_completion(
    model=model_id,
    messages=messages,
    temperature=temperature,
    max_tokens=max_tokens,
    extra_body=extra_body  # –î–ª—è thinking –º–æ–¥–µ–ª–µ–π
)
```

#### 6. –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –æ—Ü–µ–Ω–∫–∏

–°–∏—Å—Ç–µ–º–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ä–µ–≥—É–ª—è—Ä–Ω—ã–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è –¥–ª—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –æ—Ü–µ–Ω–∫–∏ –∏–∑ –æ—Ç–≤–µ—Ç–∞ –º–æ–¥–µ–ª–∏:

```python
# –ü–∞—Ç—Ç–µ—Ä–Ω—ã –¥–ª—è –ø–æ–∏—Å–∫–∞ –æ—Ü–µ–Ω–∫–∏
score_patterns = [
    r'–∏—Ç–æ–≥–æ–≤–∞—è –æ—Ü–µ–Ω–∫–∞[\s\S]*?(\d+)\s*–±–∞–ª–ª',
    r'–æ—Ü–µ–Ω–∫–∞:\s*(\d+)',
    r'(\d+)\s*–±–∞–ª–ª',
    r'\[–æ—Ü–µ–Ω–∫–∞\s*[:-]\s*(\d+)\]'
]
```

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π

#### Rate Limiting

–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è —Å–∫–æ—Ä–æ—Å—Ç–∏ API:

1. **–≠–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª—å–Ω–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞**: –£–≤–µ–ª–∏—á–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ –æ–∂–∏–¥–∞–Ω–∏—è –ø—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –ø–æ–ø—ã—Ç–∫–∞—Ö
2. **Jitter**: –°–ª—É—á–∞–π–Ω–æ–µ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ –æ–∂–∏–¥–∞–Ω–∏—è (¬±20%)
3. **–ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–µ –ø–æ–ø—ã—Ç–∫–∏**: –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –ø–æ–ø—ã—Ç–æ–∫
4. **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ**: –î–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –ø–æ–ø—ã—Ç–æ–∫ –∏ –æ—à–∏–±–æ–∫

#### –í–∞–ª–∏–¥–∞—Ü–∏—è –æ—Ü–µ–Ω–æ–∫

- **–ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–∏–∞–ø–∞–∑–æ–Ω–∞**: –û—Ü–µ–Ω–∫–∏ –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞—é—Ç—Å—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–º–∏ –±–∞–ª–ª–∞–º–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–∏–ø–∞ –∑–∞–¥–∞—á–∏
- **–û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤**: –ü—Ä–∏—Å–≤–æ–µ–Ω–∏–µ 0 –±–∞–ª–ª–æ–≤ –ø—Ä–∏ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –∏–∑–≤–ª–µ—á—å –æ—Ü–µ–Ω–∫—É
- **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–π**: –ó–∞–ø–∏—Å—å –≤—Å–µ—Ö —Å–ª—É—á–∞–µ–≤ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã—Ö –æ—Ü–µ–Ω–æ–∫

### –§–æ—Ä–º–∞—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

#### –û—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

```json
{
  "metadata": {
    "timestamp": "2025-01-11T15:30:45",
    "model_id": "google/gemini-2.0-flash-exp",
    "task_id": "13",
    "total_examples": 21,
    "parameters": {
      "temperature": 0.7,
      "max_tokens": 10000,
      "use_true_solution": true
    }
  },
  "results": [
    {
      "solution_id": "13.1.1",
      "expected_score": 2,
      "predicted_score": 2,
      "evaluation_time": 12.5,
      "cost": 0.0045,
      "tokens": {
        "prompt": 2594,
        "completion": 365,
        "total": 2959
      }
    }
  ]
}
```

#### –§–∞–π–ª –∞–Ω–∞–ª–∏–∑–∞

```json
{
  "total_examples": 21,
  "models": {
    "google/gemini-2.0-flash-exp": {
      "with_true_solution": {
        "accuracy": 47.62,
        "quality_score": 66.67,
        "avg_score_distance": 0.67,
        "macro_precision": 57.94,
        "macro_recall": 38.89,
        "macro_f1": 37.81,
        "confusion_matrix": {
          "0": {"0": 1, "1": 2, "2": 3},
          "1": {"0": 0, "1": 8, "2": 2},
          "2": {"0": 0, "1": 4, "2": 1}
        }
      }
    }
  }
}
```

### –ü—Ä–æ—Ü–µ–¥—É—Ä—ã –≤–∞–ª–∏–¥–∞—Ü–∏–∏

#### –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞—Ç–∞—Å–µ—Ç–∞

1. **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏ –¥–∞–Ω–Ω—ã—Ö**:
   ```bash
   # –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞—Ç–∞—Å–µ—Ç–∞
   python dataset_benchmark/verify_dataset.py

   # –ê–Ω–∞–ª–∏–∑ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö
   python dataset_benchmark/generate_metadata.py --verify
   ```

2. **–í–∞–ª–∏–¥–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π**:
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è –≤—Å–µ—Ö —Ñ–∞–π–ª–æ–≤ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
   - –í–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–æ—Ä–º–∞—Ç–∞ –∏ —á–∏—Ç–∞–µ–º–æ—Å—Ç–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è –ø—É—Ç–µ–π –≤ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö

3. **–í–∞–ª–∏–¥–∞—Ü–∏—è –æ—Ü–µ–Ω–æ–∫**:
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–∏–∞–ø–∞–∑–æ–Ω–∞ –æ—Ü–µ–Ω–æ–∫ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–∏–ø–∞ –∑–∞–¥–∞—á–∏
   - –í–∞–ª–∏–¥–∞—Ü–∏—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è –æ—Ü–µ–Ω–æ–∫ –∫—Ä–∏—Ç–µ—Ä–∏—è–º –§–ò–ü–ò

#### –í–∞–ª–∏–¥–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –±–µ–Ω—á–º–∞—Ä–∫–∞

1. **–°—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è**:
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –æ—Ü–µ–Ω–æ–∫
   - –ê–Ω–∞–ª–∏–∑ –≤—ã–±—Ä–æ—Å–æ–≤ –∏ –∞–Ω–æ–º–∞–ª—å–Ω—ã—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
   - –í–∞–ª–∏–¥–∞—Ü–∏—è –º–µ—Ç—Ä–∏–∫ (—Å—É–º–º–∞ precision/recall/F1)

2. **–í–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º–æ—Å—Ç—å**:
   - –ü–æ–≤—Ç–æ—Ä–Ω—ã–µ –∑–∞–ø—É—Å–∫–∏ —Å –æ–¥–∏–Ω–∞–∫–æ–≤—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
   - –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∑–∞–ø—É—Å–∫–∞

### –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –∏ —Å–æ–æ–±—Ä–∞–∂–µ–Ω–∏—è

#### –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –¥–∞—Ç–∞—Å–µ—Ç–∞

1. **–†–∞–∑–º–µ—Ä –≤—ã–±–æ—Ä–∫–∏**: 122 –ø—Ä–∏–º–µ—Ä–∞ –º–æ–≥—É—Ç –±—ã—Ç—å –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω—ã –¥–ª—è –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö —Ç–∏–ø–æ–≤ –∞–Ω–∞–ª–∏–∑–∞
2. **–î–∏—Å–±–∞–ª–∞–Ω—Å –∫–ª–∞—Å—Å–æ–≤**: –ù–µ—Ä–∞–≤–Ω–æ–º–µ—Ä–Ω–æ–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –æ—Ü–µ–Ω–æ–∫ (–±–æ–ª—å—à–µ –Ω–∏–∑–∫–∏—Ö –æ—Ü–µ–Ω–æ–∫)
3. **–°—É–±—ä–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –æ—Ü–µ–Ω–∫–∏**: –ß–µ–ª–æ–≤–µ—á–µ—Å–∫–∏–µ –æ—Ü–µ–Ω–∫–∏ –º–æ–≥—É—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å —Å—É–±—ä–µ–∫—Ç–∏–≤–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã
4. **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–µ —Ç–∏–ø—ã –∑–∞–¥–∞—á**: –¢–æ–ª—å–∫–æ –∑–∞–¥–∞—á–∏ 13-19 –∏–∑ –ï–ì–≠ –ø–æ –º–∞—Ç–µ–º–∞—Ç–∏–∫–µ

#### –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –±–µ–Ω—á–º–∞—Ä–∫–∞

1. **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç API**: –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∑–∞–≤–∏—Å—è—Ç –æ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –∏ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏ OpenRouter API
2. **–°—Ç–æ–∏–º–æ—Å—Ç—å —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è**: –ù–µ–∫–æ—Ç–æ—Ä—ã–µ –º–æ–¥–µ–ª–∏ —Ç—Ä–µ–±—É—é—Ç –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω—ã—Ö –∑–∞—Ç—Ä–∞—Ç
3. **Rate Limiting**: –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è —Å–∫–æ—Ä–æ—Å—Ç–∏ API –º–æ–≥—É—Ç –∑–∞–º–µ–¥–ª–∏—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ
4. **–ò–∑–º–µ–Ω—á–∏–≤–æ—Å—Ç—å –º–æ–¥–µ–ª–µ–π**: –ú–æ–¥–µ–ª–∏ –º–æ–≥—É—Ç –æ–±–Ω–æ–≤–ª—è—Ç—å—Å—è, –≤–ª–∏—è—è –Ω–∞ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º–æ—Å—Ç—å

#### –ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

1. **–ö–æ–Ω—Ç–µ–∫—Å—Ç—É–∞–ª—å–Ω–æ—Å—Ç—å**: –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã –¥–ª—è —Ä—É—Å—Å–∫–æ—è–∑—ã—á–Ω—ã—Ö –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –∑–∞–¥–∞—á –ï–ì–≠
2. **–°—Ä–∞–≤–Ω–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**: –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ª—É—á—à–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è –º–æ–¥–µ–ª–µ–π, –∞ –Ω–µ –∞–±—Å–æ–ª—é—Ç–Ω–æ–π –æ—Ü–µ–Ω–∫–∏
3. **–í—Ä–µ–º–µ–Ω–Ω–∞—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å**: –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –º–æ–≥—É—Ç –∏–∑–º–µ–Ω—è—Ç—å—Å—è –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –º–æ–¥–µ–ª–µ–π

### –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

#### –î–ª—è –∏—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª–µ–π

1. **–ù–∞—á–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**:
   ```bash
   # –ë—ã—Å—Ç—Ä—ã–π —Ç–µ—Å—Ç —Å –±–µ—Å–ø–ª–∞—Ç–Ω—ã–º–∏ –º–æ–¥–µ–ª—è–º–∏
   python run_task13_benchmark.py --models "moonshotai/kimi-vl-a3b-thinking:free" --max-examples 5
   ```

2. **–ü–æ–ª–Ω–æ–µ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ**:
   ```bash
   # –ü–æ–ª–Ω—ã–π –±–µ–Ω—á–º–∞—Ä–∫ –≤—Å–µ—Ö –∑–∞–¥–∞—á
   python run_full_benchmark.py --models "google/gemini-2.0-flash-exp" "gpt-4o"
   ```

3. **–ê–Ω–∞–ª–∏–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤**:
   ```bash
   # –°—Ä–∞–≤–Ω–∏—Ç–µ–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑
   python analyze_existing_results.py --compare-models
   ```

#### –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤

1. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–º–∏ –º–æ–¥–µ–ª—è–º–∏**:
   - –ê–¥–∞–ø—Ç–∞—Ü–∏—è `OpenRouterClient` –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ª–æ–∫–∞–ª—å–Ω—ã–º–∏ –º–æ–¥–µ–ª—è–º–∏
   - –ú–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è `PromptGenerator` –¥–ª—è —Å–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫–∏—Ö –ø—Ä–æ–º–ø—Ç–æ–≤
   - –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã –º–µ—Ç—Ä–∏–∫

2. **–†–∞—Å—à–∏—Ä–µ–Ω–∏–µ –¥–∞—Ç–∞—Å–µ—Ç–∞**:
   - –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –ø—Ä–∏–º–µ—Ä–æ–≤ —á–µ—Ä–µ–∑ `generate_metadata.py`
   - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ HuggingFace Dataset —á–µ—Ä–µ–∑ `prepare_huggingface_dataset.py`
   - –í–∞–ª–∏–¥–∞—Ü–∏—è –Ω–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö

#### –î–ª—è –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–µ–π

1. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã—Ö —Ü–µ–ª—è—Ö**:
   - –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–µ—à–µ–Ω–∏–π
   - –ê–Ω–∞–ª–∏–∑ —Ç–∏–ø–∏—á–Ω—ã—Ö –æ—à–∏–±–æ–∫ —Å—Ç—É–¥–µ–Ω—Ç–æ–≤
   - –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø–æ–¥—Ö–æ–¥–æ–≤ –∫ —Ä–µ—à–µ–Ω–∏—é –∑–∞–¥–∞—á

2. **–°–æ–∑–¥–∞–Ω–∏–µ —É—á–µ–±–Ω—ã—Ö –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤**:
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø—Ä–∏–º–µ—Ä–æ–≤ –∏–∑ –¥–∞—Ç–∞—Å–µ—Ç–∞
   - –ê–Ω–∞–ª–∏–∑ –∫—Ä–∏—Ç–µ—Ä–∏–µ–≤ –æ—Ü–µ–Ω–∏–≤–∞–Ω–∏—è
   - –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π –ò–ò –≤ –æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–∏

## üöÄ Quick Start Guide for Model Evaluation

### Prerequisites

1. **Install Dependencies**
```bash
pip install datasets pandas numpy pillow fastapi uvicorn python-dotenv httpx python-multipart pydantic pytest pytest-asyncio sqlalchemy alembic pydantic-settings
```

2. **Get OpenRouter API Key**
   - Sign up at [OpenRouter](https://openrouter.ai/)
   - Get your API key from the dashboard
   - You'll need this for running evaluations

### Step-by-Step Evaluation Process

#### Step 1: Verify System Setup
```bash
# Test that everything is working
python test_evaluation_simple.py
```
This should show "‚úì All tests passed! The system is ready for evaluation."

#### Step 2: Run a Quick Test (Recommended First)
```bash
# Test with 1 example to verify API connection
python run_test_evaluation.py
```
- Enter your OpenRouter API key when prompted
- This tests 1 example from task 13
- Takes ~30 seconds, costs ~$0.01

#### Step 3: Run Full Evaluation for All Tasks
```bash
# Evaluate google/gemini-2.0-flash-exp:free on ALL 122 examples
python run_full_evaluation.py
```
- Enter your OpenRouter API key when prompted
- Evaluates ALL 7 task types (13-19) with 122 total examples
- Tests both "with_answer" and "without_answer" approaches
- Takes 1-3 hours, costs $5-20

### Alternative: Manual Evaluation Commands

#### Quick Dataset Analysis
```bash
# Check dataset statistics
python analyze_dataset.py dataset_benchmark_hf_updated

# Verify system components
python test_evaluation_simple.py
```

#### Single Task Evaluation
```bash
cd dataset_benchmark

# Evaluate only task 13 (21 examples)
python benchmark_models.py --task 13 --models "google/gemini-2.0-flash-exp:free" --with-answer --without-answer

# Evaluate with limited examples for testing
python benchmark_models.py --task 13 --models "google/gemini-2.0-flash-exp:free" --with-answer --max-examples 3
```

#### Full Multi-Task Evaluation
```bash
cd dataset_benchmark

# Evaluate all tasks with one model
python run_full_benchmark.py --models "google/gemini-2.0-flash-exp:free"

# Evaluate with multiple models
python run_full_benchmark.py --models "google/gemini-2.0-flash-exp:free" "moonshotai/kimi-vl-a3b-thinking:free"
```

#### Results Analysis
```bash
# View recent results
ls -la dataset_benchmark/benchmark_results/

# Analyze existing results file
cd dataset_benchmark
python benchmark_models.py --analyze-only --results-file "path/to/results.json" --latex
```

### üìä Understanding the Results

#### Dataset Overview
- **Total Examples**: 122 student solutions
- **Task Types**: 7 types (Tasks 13-19)
  - Task 13: Trigonometric equations (21 examples)
  - Task 14: Stereometric problems (18 examples)
  - Task 15: Logarithmic inequalities (19 examples)
  - Task 16: Planimetric problems (17 examples)
  - Task 17: Financial mathematics (15 examples)
  - Task 18: Problems with parameters (16 examples)
  - Task 19: Number theory problems (16 examples)
- **Score Range**: 0-4 points per solution
- **Evaluation Approaches**:
  - `with_answer`: Student solution + correct answer shown
  - `without_answer`: Only student solution shown

#### Key Metrics Explained
- **Accuracy**: Percentage of exact score matches
- **Quality Score**: Normalized measure (0-100%) of prediction closeness
- **Macro Precision/Recall/F1**: Multi-class classification metrics
- **Score Distance**: Average absolute difference between predicted and expected scores
- **Confusion Matrix**: Shows prediction patterns across score values

#### Cost Estimation
- **Test run (1 example)**: ~$0.01
- **Single task (13-21 examples)**: ~$0.50-2.00
- **Full evaluation (122 examples, both approaches)**: ~$5-20
- Costs vary by model; free models cost less but may have rate limits

### üîß Troubleshooting

#### Common Issues
1. **"No module named 'datasets'"**: Run `pip install datasets pandas numpy pillow`
2. **"OpenRouter API key not configured"**: Set your API key when prompted
3. **Rate limit errors**: The system automatically retries with exponential backoff
4. **Out of memory**: Reduce `max_examples` or use a machine with more RAM

#### Getting Help
- Check the logs in `dataset_benchmark/benchmark_logs/`
- Review error messages carefully
- Ensure your OpenRouter API key has sufficient credits
- For dataset issues, verify files exist in `dataset_benchmark_hf_updated/`

### üìà Advanced Usage

#### Custom Model Evaluation
```bash
# Evaluate any OpenRouter model
cd dataset_benchmark
python benchmark_models.py --task 13 --models "anthropic/claude-3.5-sonnet" --with-answer

# Multiple models comparison
python benchmark_models.py --task 13 --models "google/gemini-2.0-flash-exp:free" "openai/gpt-4o" --with-answer --without-answer
```

#### Batch Processing
```bash
# Evaluate all tasks for multiple models
for model in "google/gemini-2.0-flash-exp:free" "moonshotai/kimi-vl-a3b-thinking:free"; do
    python run_full_benchmark.py --models "$model"
done
```

#### Results Export
```bash
# Generate LaTeX tables for papers
cd dataset_benchmark
python benchmark_models.py --analyze-only --results-file "results.json" --latex --metrics-latex --explanation-latex
```

### üéØ Recommended Evaluation Workflow

1. **Start Small**: Run `python run_test_evaluation.py` first
2. **Single Task**: Test one task type with `--max-examples 5`
3. **Full Task**: Evaluate complete task without limits
4. **All Tasks**: Run full evaluation with `python run_full_evaluation.py`
5. **Analysis**: Review results and generate reports
6. **Compare**: Evaluate multiple models for comparison

This ensures you catch any issues early and don't waste API credits on failed runs.

# –ê–Ω–∞–ª–∏–∑ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
python analyze_existing_results.py --file benchmark_results/benchmark_task13_*.json

# –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –º–æ–¥–µ–ª–µ–π
python analyze_existing_results.py --compare-models
```

### –§–∞–π–ª—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∏ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö

#### –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ–∞–π–ª—ã

- **`dataset_benchmark/metadata.json`**: –ü–æ–ª–Ω—ã–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –≤—Å–µ—Ö –ø—Ä–∏–º–µ—Ä–æ–≤
- **`dataset_benchmark/metadata_schema.json`**: –°—Ö–µ–º–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö
- **`dataset_benchmark_hf/dataset_info.json`**: –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ HuggingFace Dataset
- **`backend/openrouter_models.json`**: –°–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π OpenRouter

#### –§–∞–π–ª—ã —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

- **`benchmark_results/benchmark_*.json`**: –û—Å–Ω–æ–≤–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –±–µ–Ω—á–º–∞—Ä–∫–∞
- **`benchmark_results/*_analysis.json`**: –î–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
- **`benchmark_results/*_metrics_table.tex`**: –¢–∞–±–ª–∏—Ü—ã –º–µ—Ç—Ä–∏–∫ –≤ LaTeX —Ñ–æ—Ä–º–∞—Ç–µ

## –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤

```bash
cd backend
pytest
```

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–µ—Å—Ç–æ–≤

- `backend/tests/` - –¢–µ—Å—Ç—ã –¥–ª—è backend API
- –¢–µ—Å—Ç—ã –ø–æ–∫—Ä—ã–≤–∞—é—Ç –æ—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ OpenRouter –∫–ª–∏–µ–Ω—Ç–∞ –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

## –õ–∏—Ü–µ–Ω–∑–∏—è

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è –¥–ª—è –∏—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö —Ü–µ–ª–µ–π.

## –ö–æ–Ω—Ç–∞–∫—Ç—ã

- GitHub: [Karifannaa](https://github.com/Karifannaa)
- Email: ra.khrulev@gmail.com
